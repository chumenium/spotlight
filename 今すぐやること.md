# 🚀 今すぐやること - Google & Twitter（X）ログイン

Firebase設定が完了したので、あと**2つの作業**でログイン機能が使えます。

---

## ✅ 今すぐ必要な作業

### 1️⃣ Twitter API Keyを設定（5分）

#### 手順A: Twitter Developer Portalで取得

1. https://developer.twitter.com/ にアクセス
2. 「Create App」でアプリを作成
3. アプリの「Keys and tokens」タブをクリック
4. 以下をコピー：
   - **API Key**
   - **API Secret Key**

#### 手順B: コードに設定

**ファイル**: `lib/auth/auth_config.dart`

26-29行目を編集：
```dart
static const String twitterApiKey = 'ここにAPI Keyを貼り付け';
```

38-41行目を編集：
```dart
static const String twitterApiSecretKey = 'ここにAPI Secret Keyを貼り付け';
```

**例**:
```dart
static const String twitterApiKey = 'ABC123XYZ789...';
static const String twitterApiSecretKey = 'xyz789abc123...';
```

---

### 2️⃣ アプリを起動してテスト（1分）

```bash
flutter run
```

これだけです！

---

## ✅ 動作確認

### アプリ起動後

1. **ソーシャルログイン画面**が表示される
   - 「Googleでログイン」ボタン（白）
   - 「X（Twitter）でログイン」ボタン（黒）

2. **Googleログインをテスト**
   - ボタンをタップ
   - Googleアカウントを選択
   - ✅ ホーム画面に遷移すれば成功

3. **Twitterログインをテスト**
   - ボタンをタップ
   - Twitterでログイン
   - ✅ ホーム画面に遷移すれば成功

4. **Firebase Consoleで確認**
   - Firebase Console → Authentication → Users
   - ログインしたユーザーが表示される
   - プロバイダー列に`google.com`または`twitter.com`

---

## 🎯 認証の仕組み（Firebase経由）

### Googleログイン
```
あなたのアプリ
    ↓
Google Sign-In（Googleアカウント選択）
    ↓
Google認証情報取得
    ↓
Firebase Authentication ← すべてここを経由
    ↓
Firebase UIDが自動生成される
    ↓
ログイン完了
```

### Twitter（X）ログイン
```
あなたのアプリ
    ↓
Twitterログイン画面
    ↓
Twitter認証情報取得
    ↓
Firebase Authentication ← すべてここを経由
    ↓
Firebase UIDが自動生成される
    ↓
ログイン完了
```

### 重要
- ✅ **すべてFirebase Authentication経由**で処理
- ✅ **Firebase UIDが自動生成**される（ユーザーは登録不要）
- ✅ **メール・パスワード不要**（ソーシャルログインから自動取得）

---

## 🐛 エラーが出たら

### エラー: Twitter API Key関連
```
Unable to log in with provided credentials
```

**解決策**:
- `lib/auth/auth_config.dart`のTwitter API KeyとSecret Keyを確認
- Twitter Developer PortalでCallback URL `spotlight://`を設定

### エラー: Google Sign-In失敗（Android）
```
PlatformException(sign_in_failed)
```

**解決策**:
```bash
cd android
./gradlew signingReport
```
出力されたSHA-1をFirebase Console → プロジェクト設定 → SHA証明書フィンガープリントに追加

---

## 📝 追加設定（必要に応じて）

### Android - Twitter用URL Scheme

`android/app/src/main/AndroidManifest.xml`に追加:
```xml
<intent-filter>
    <action android:name="android.intent.action.VIEW" />
    <category android:name="android.intent.category.DEFAULT" />
    <category android:name="android.intent.category.BROWSABLE" />
    <data android:scheme="spotlight" android:host="" />
</intent-filter>
```

### iOS - Twitter用URL Scheme

`ios/Runner/Info.plist`に追加:
```xml
<key>CFBundleURLTypes</key>
<array>
    <dict>
        <key>CFBundleURLSchemes</key>
        <array>
            <string>spotlight</string>
        </array>
    </dict>
</array>
```

詳細は`SOCIAL_AUTH_GUIDE.md`を参照してください。

---

## 🎊 完成！

たった2ステップ：
1. ✅ Twitter API Keyを設定
2. ✅ `flutter run`

これでGoogle & Twitter（X）ログインが使えます！

すべて**Firebase Authentication経由**で安全に処理されます。

